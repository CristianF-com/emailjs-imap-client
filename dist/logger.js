'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createDefaultLogger;

var _common = require('./common');

var SESSIONCOUNTER = 0;

function createDefaultLogger() {
  var _this = this;

  var tag = ++SESSIONCOUNTER;
  var log = function log(level, messages) {
    messages = messages.map(function (msg) {
      return typeof msg === 'function' ? msg() : msg;
    });
    var logMessage = '[' + new Date().toISOString() + '][' + tag + '][' + _this.options.auth.user + '][' + _this.client.host + '] ' + messages.join(' ');
    if (level === _common.LOG_LEVEL_DEBUG) {
      console.log('[DEBUG]' + logMessage);
    } else if (level === _common.LOG_LEVEL_INFO) {
      console.info('[INFO]' + logMessage);
    } else if (level === _common.LOG_LEVEL_WARN) {
      console.warn('[WARN]' + logMessage);
    } else if (level === _common.LOG_LEVEL_ERROR) {
      console.error('[ERROR]' + logMessage);
    }
  };

  return {
    debug: function debug(msgs) {
      return log(_common.LOG_LEVEL_DEBUG, msgs);
    },
    info: function info(msgs) {
      return log(_common.LOG_LEVEL_INFO, msgs);
    },
    warn: function warn(msgs) {
      return log(_common.LOG_LEVEL_WARN, msgs);
    },
    error: function error(msgs) {
      return log(_common.LOG_LEVEL_ERROR, msgs);
    }
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9sb2dnZXIuanMiXSwibmFtZXMiOlsiY3JlYXRlRGVmYXVsdExvZ2dlciIsIlNFU1NJT05DT1VOVEVSIiwidGFnIiwibG9nIiwibGV2ZWwiLCJtZXNzYWdlcyIsIm1hcCIsIm1zZyIsImxvZ01lc3NhZ2UiLCJEYXRlIiwidG9JU09TdHJpbmciLCJvcHRpb25zIiwiYXV0aCIsInVzZXIiLCJjbGllbnQiLCJob3N0Iiwiam9pbiIsImNvbnNvbGUiLCJpbmZvIiwid2FybiIsImVycm9yIiwiZGVidWciLCJtc2dzIl0sIm1hcHBpbmdzIjoiOzs7OztrQkFTd0JBLG1COztBQVR4Qjs7QUFPQSxJQUFJQyxpQkFBaUIsQ0FBckI7O0FBRWUsU0FBU0QsbUJBQVQsR0FBZ0M7QUFBQTs7QUFDN0MsTUFBTUUsTUFBTSxFQUFFRCxjQUFkO0FBQ0EsTUFBSUUsTUFBTSxTQUFOQSxHQUFNLENBQUNDLEtBQUQsRUFBUUMsUUFBUixFQUFxQjtBQUM3QkEsZUFBV0EsU0FBU0MsR0FBVCxDQUFhO0FBQUEsYUFBTyxPQUFPQyxHQUFQLEtBQWUsVUFBZixHQUE0QkEsS0FBNUIsR0FBb0NBLEdBQTNDO0FBQUEsS0FBYixDQUFYO0FBQ0EsUUFBSUMsYUFBYSxNQUFNLElBQUlDLElBQUosR0FBV0MsV0FBWCxFQUFOLEdBQWlDLElBQWpDLEdBQXdDUixHQUF4QyxHQUE4QyxJQUE5QyxHQUNmLE1BQUtTLE9BQUwsQ0FBYUMsSUFBYixDQUFrQkMsSUFESCxHQUNVLElBRFYsR0FDaUIsTUFBS0MsTUFBTCxDQUFZQyxJQUQ3QixHQUNvQyxJQURwQyxHQUMyQ1YsU0FBU1csSUFBVCxDQUFjLEdBQWQsQ0FENUQ7QUFFQSxRQUFJWixpQ0FBSixFQUErQjtBQUM3QmEsY0FBUWQsR0FBUixDQUFZLFlBQVlLLFVBQXhCO0FBQ0QsS0FGRCxNQUVPLElBQUlKLGdDQUFKLEVBQThCO0FBQ25DYSxjQUFRQyxJQUFSLENBQWEsV0FBV1YsVUFBeEI7QUFDRCxLQUZNLE1BRUEsSUFBSUosZ0NBQUosRUFBOEI7QUFDbkNhLGNBQVFFLElBQVIsQ0FBYSxXQUFXWCxVQUF4QjtBQUNELEtBRk0sTUFFQSxJQUFJSixpQ0FBSixFQUErQjtBQUNwQ2EsY0FBUUcsS0FBUixDQUFjLFlBQVlaLFVBQTFCO0FBQ0Q7QUFDRixHQWJEOztBQWVBLFNBQU87QUFDTGEsV0FBTztBQUFBLGFBQVFsQiw2QkFBcUJtQixJQUFyQixDQUFSO0FBQUEsS0FERjtBQUVMSixVQUFNO0FBQUEsYUFBUWYsNEJBQW9CbUIsSUFBcEIsQ0FBUjtBQUFBLEtBRkQ7QUFHTEgsVUFBTTtBQUFBLGFBQVFoQiw0QkFBb0JtQixJQUFwQixDQUFSO0FBQUEsS0FIRDtBQUlMRixXQUFPO0FBQUEsYUFBUWpCLDZCQUFxQm1CLElBQXJCLENBQVI7QUFBQTtBQUpGLEdBQVA7QUFNRCIsImZpbGUiOiJsb2dnZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBMT0dfTEVWRUxfRVJST1IsXG4gIExPR19MRVZFTF9XQVJOLFxuICBMT0dfTEVWRUxfSU5GTyxcbiAgTE9HX0xFVkVMX0RFQlVHXG59IGZyb20gJy4vY29tbW9uJ1xuXG5sZXQgU0VTU0lPTkNPVU5URVIgPSAwXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRMb2dnZXIgKCkge1xuICBjb25zdCB0YWcgPSArK1NFU1NJT05DT1VOVEVSXG4gIGxldCBsb2cgPSAobGV2ZWwsIG1lc3NhZ2VzKSA9PiB7XG4gICAgbWVzc2FnZXMgPSBtZXNzYWdlcy5tYXAobXNnID0+IHR5cGVvZiBtc2cgPT09ICdmdW5jdGlvbicgPyBtc2coKSA6IG1zZylcbiAgICBsZXQgbG9nTWVzc2FnZSA9ICdbJyArIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSArICddWycgKyB0YWcgKyAnXVsnICtcbiAgICAgIHRoaXMub3B0aW9ucy5hdXRoLnVzZXIgKyAnXVsnICsgdGhpcy5jbGllbnQuaG9zdCArICddICcgKyBtZXNzYWdlcy5qb2luKCcgJylcbiAgICBpZiAobGV2ZWwgPT09IExPR19MRVZFTF9ERUJVRykge1xuICAgICAgY29uc29sZS5sb2coJ1tERUJVR10nICsgbG9nTWVzc2FnZSlcbiAgICB9IGVsc2UgaWYgKGxldmVsID09PSBMT0dfTEVWRUxfSU5GTykge1xuICAgICAgY29uc29sZS5pbmZvKCdbSU5GT10nICsgbG9nTWVzc2FnZSlcbiAgICB9IGVsc2UgaWYgKGxldmVsID09PSBMT0dfTEVWRUxfV0FSTikge1xuICAgICAgY29uc29sZS53YXJuKCdbV0FSTl0nICsgbG9nTWVzc2FnZSlcbiAgICB9IGVsc2UgaWYgKGxldmVsID09PSBMT0dfTEVWRUxfRVJST1IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tFUlJPUl0nICsgbG9nTWVzc2FnZSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGRlYnVnOiBtc2dzID0+IGxvZyhMT0dfTEVWRUxfREVCVUcsIG1zZ3MpLFxuICAgIGluZm86IG1zZ3MgPT4gbG9nKExPR19MRVZFTF9JTkZPLCBtc2dzKSxcbiAgICB3YXJuOiBtc2dzID0+IGxvZyhMT0dfTEVWRUxfV0FSTiwgbXNncyksXG4gICAgZXJyb3I6IG1zZ3MgPT4gbG9nKExPR19MRVZFTF9FUlJPUiwgbXNncylcbiAgfVxufVxuIl19